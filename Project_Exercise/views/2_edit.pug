extends 0_layout

block search
    // Searchbar
    #search.form-inline.ml-auto
        input#sights.form-control(type='search' placeholder='Search for sights' aria-label='search' onkeydown = "if (event.keyCode == 13) {document.getElementById('searchButton').click()}")
        button.btn.btn-outline-light(id="searchButton" onclick='clickSearch()') Search

block scripts

    // Loading scripts
    script(defer='' src='/javascripts/editSights.js')
    script(defer='' src='/javascripts/editTours.js')
    script(defer='' src='/javascripts/busStop.js')
    script(defer='' src='/javascripts/searchUtilities.js')
    

block content 
    // Map section
    #map
    // Information section
    #infos

        #sightTable
            form(id='formAddSightInputFile' name='addSightFile' method='post' action='/edit/addSightInputFile' enctype='multipart/form-data')
                input(id='uploadSightInputFile' type='file' placeholder='sight' name='sightInputFile')
                button(id='btnSubmitFile' type='submit') Submit
            form(id='formAddSightInputText' name='addSightText' method='post' action='/edit/addSightInputText' enctype='multipart/form-data')
                input(id='uploadSightInputText' type='text' placeholder='Insert GeoJSON string' name='sightInputText')
                button(id='btnSubmitText' type='submit') Submit

            table.table.table-striped
                tr
                    th
                    th Name
                    th URL
                
                each n, index in sightData
                    tr
                        td
                            input(type='checkbox' class='chb' id=n._id)
                        td= n.features[0].properties.Name
                        td= n.features[0].properties.URL  

        #buttons
            button(id='deleteButton') Löschen

            input(id='tourName' type='text' placeholder='Tour Name' name='tourName')
            button(id='erstelleTourButton') Erstelle Tour

            button(id='haltestelleButton') Nächste Haltestelle anzeigen
            button(id='weatherButton') Haltestellename und aktuelles Wetter anzeigen
        
        #tourTable(style='display: none;')
            table.table.table-striped(id='tableTours')

    script.
        var sights = !{JSON.stringify(sightData)}